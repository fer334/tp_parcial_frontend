<div class="main-content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="card ">
            <div class="card-body ">
                <div class="row">
                  <label class="col-sm-2 col-form-label">Empleado:</label>
                  <div class="col-sm-3">
                    <mat-form-field class="example-full-width">
                      <input [(ngModel)]="empleado" matInput type="text">
                    </mat-form-field>
                  </div>
                  <label class="col-sm-2 col-form-label">Cliente:  </label>
                  <div class="col-sm-3">
                    <mat-form-field class="example-full-width">
                      <input matInput  [(ngModel)]="cliente" type="text">
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                    <label class="col-sm-2 col-form-label">Desde:</label>
                    <div class="col-sm-3 ">
                        <mat-form-field >
                          <input  [(ngModel)]="fromDate" matInput [matDatepicker]="picker" placeholder="Choose a date" >
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <label class="col-sm-2 col-form-label">Hasta:</label>
                    <div class="col-sm-3 ">
                        <mat-form-field >
                          <input  [(ngModel)]="toDate" matInput [matDatepicker]="picker2" placeholder="Choose a date" >
                          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                          <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                    </div>
                  </div>
                <button (click)="filtrarReservas()"  mat-raised-button class="btn btn-primary">Filtrar</button>
                <button (click)="getAll()"  mat-raised-button class="btn btn-info">Ver todas las Reservas</button>
                <button (click)="resetField()"  mat-raised-button class="btn btn-warning">Limpiar Campos</button>

              </div>
          </div>
        </div>      
    </div>
    <div class="row">
          <div class="col-md-12">
              <div class="card">
                <div class="card-header card-header-primary card-header-icon">
                  <div class="card-icon">
                    <i class="material-icons">assignment</i>
                  </div>
                  <h4 class="card-title">Lista de Reservas</h4>
                </div>
                  <div class="card-body">
                      <div class="toolbar">
                        <button  mat-raised-button class="btn btn-default" routerLink="/agregarReserva">Agregar Nueva Reserva</button>

                          <!--        Here you can write extra buttons/actions for the toolbar              -->
                      </div>
                      <div class="material-datatables">
                        <table  
                          datatable
                          [dtTrigger]="dtTrigger" 
                          [dtOptions]="dtOptions"
                          id="datatables" 
                          class="table table-striped table-no-bordered table-hover" 
                          cellspacing="0" 
                          width="100%" 
                          style="width:100%"
                          >
                              <thead>
                                  <tr>
                                    <th>{{ dataTable.headerRow[0] }}</th>
                                    <th>{{ dataTable.headerRow[1] }}</th>
                                    <th>{{ dataTable.headerRow[2] }}</th>
                                    <th>{{ dataTable.headerRow[3] }}</th>
                                    <th>{{ dataTable.headerRow[4] }}</th>
                                    <th>{{ dataTable.headerRow[5] }}</th>
                                    <th>{{ dataTable.headerRow[6] }}</th>
                                    <th>{{ dataTable.headerRow[7] }}</th>
                                    <th>{{ dataTable.headerRow[8] }}</th>
                                    <th class="disabled-sorting text-center">{{ dataTable.headerRow[9] }}</th>
                                  </tr>
                              </thead>
                              <tfoot>
                                  <tr>
                                    <th>{{ dataTable.footerRow[0] }}</th>
                                    <th>{{ dataTable.footerRow[1] }}</th>
                                    <th>{{ dataTable.footerRow[2] }}</th>
                                    <th>{{ dataTable.footerRow[3] }}</th>
                                    <th>{{ dataTable.footerRow[4] }}</th>
                                    <th>{{ dataTable.footerRow[5] }}</th>
                                    <th>{{ dataTable.footerRow[6] }}</th>
                                    <th>{{ dataTable.footerRow[7] }}</th>
                                    <th>{{ dataTable.footerRow[8] }}</th>
                                    <th class="text-right">{{ dataTable.footerRow[9] }}</th>
                                  </tr>
                              </tfoot>
                              <tbody>
                                  <tr *ngFor="let r of reservasFiltradas">
                                    <td>{{r.idReserva}}</td>
                                    <td>{{r.fecha}}</td>
                                    <td>{{r.horaInicio}}</td>
                                    <td>{{r.horaFin}}</td>
                                    <td>{{r.idEmpleado.nombre}}</td>
                                    <td>{{r.idCliente.nombre}}</td>
                                    <td>{{r.flagAsistio}}</td>
                                    <td>{{r.observacion}}</td>
                                    <td>{{r.flagEstado}}</td>
                                    <td class="text-center">
                                      <button class="btn btn-primary" [routerLink]="['/editarReserva',r.idReserva]">Ir a Modificar</button>
                                    
                                    <button (click)="newFicha(r)" mat-raised-button class="btn btn-primary add">
                                      <i class="material-icons">add</i> Nueva ficha
                                    </button>
                                    </td>
                                  </tr>
                              </tbody>
                          </table>
                          <!--
                          <p #otherContainer>
                            No se encontraron Registros
                          </p>
                          -->
                      </div>
                  </div>
                  <!-- end content-->
              </div>
              <!--  end card  -->
          </div>
          <!-- end col-md-12 -->
      </div>
      <!-- end row -->
  </div>
</div>
